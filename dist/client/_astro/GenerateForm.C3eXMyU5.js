import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as t}from"./index.RH_Wq4ov.js";import{T as g}from"./TrackList.-ij3SPJY.js";function y(){const[r,u]=t.useState(""),[n,i]=t.useState(!1),[o,l]=t.useState(null),[s,d]=t.useState(null);async function x(){const a=r.trim();if(a){i(!0),l(null),d(null);try{const c=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_input:a})}),p=await c.json();if(!c.ok){l(p.error||"Wystąpił błąd");return}d(p)}catch{l("Błąd połączenia z serwerem")}finally{i(!1)}}}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("textarea",{value:r,onChange:a=>u(a.target.value),placeholder:"Opisz swój nastrój i cel, np. 'Jestem zmęczony, ale chcę iść pobiegać' lub 'Potrzebuję skupienia do kodowania'",rows:4,maxLength:1e3,disabled:n,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-indigo-500 resize-none disabled:opacity-50"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[r.length,"/1000"]}),e.jsx("button",{onClick:x,disabled:n||!r.trim(),className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition",children:n?"Generuję...":"Generate"})]})]}),o&&e.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded-lg",children:o}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[e.jsx("span",{className:"bg-indigo-900/50 text-indigo-300 px-3 py-1 rounded-full",children:s.inference.emotion}),e.jsxs("span",{className:"bg-purple-900/50 text-purple-300 px-3 py-1 rounded-full",children:["Cel: ",s.inference.goal]}),e.jsxs("span",{className:"bg-emerald-900/50 text-emerald-300 px-3 py-1 rounded-full",children:["Energia: ",s.inference.energy,"/5"]}),e.jsx("span",{className:"bg-amber-900/50 text-amber-300 px-3 py-1 rounded-full",children:s.inference.vocal_style})]})}),e.jsx(g,{tracks:s.tracks})]})]})}export{y as default};
